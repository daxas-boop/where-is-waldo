(this["webpackJsonpwhere-waldo"]=this["webpackJsonpwhere-waldo"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),c=n.n(a),o=n(37),i=n.n(o),s=n(17),l=n.n(s),u=n(24),d=n(16),j=n(22),b=n(12),h=n(60);n(94),n(45);h.a.initializeApp({apiKey:"AIzaSyAY76zZT3VJZdf-0wyCnVJP6C_UAycfDmY",authDomain:"where-s-waldo-51820.firebaseapp.com",databaseURL:"https://where-s-waldo-51820.firebaseio.com",projectId:"where-s-waldo-51820",storageBucket:"where-s-waldo-51820.appspot.com",messagingSenderId:"1023701944897",appId:"1:1023701944897:web:c8e527f6635d67993cd4c0",measurementId:"G-QZ1C22GTHL"});var p=h.a,O=p.firestore(),x=n(137),f=n(117),m=n(116),g=Object(m.a)({root:Object(j.a)({display:"flex"},"@media (max-width:768px)",{flexGrow:1,justifyContent:"flex-end"}),avatar:Object(j.a)({},"@media (max-width:468px)",{display:"none"})}),v=function(){var e=g(),t=Object(b.b)(),n=Object(b.c)((function(e){return e.auth})).user.username[0].toUpperCase();return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(x.a,{className:e.avatar,children:n}),Object(r.jsx)(f.a,{onClick:function(){t((function(e){p.auth().signOut().then((function(){e({type:"LOGOUT_SUCCESS"})})).catch((function(t){e({type:"LOGOUT_ERROR",payload:t})}))}))},children:"Logout"})]})},w=n(21),y=Object(m.a)({root:Object(j.a)({display:"flex"},"@media (max-width:768px)",{flexGrow:1,justifyContent:"flex-end"})}),S=function(){var e=y();return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(w.b,{style:{textDecoration:"none"},to:"/signup",children:Object(r.jsx)(f.a,{children:"Sign up"})}),Object(r.jsx)(w.b,{style:{textDecoration:"none"},to:"/signin",children:Object(r.jsx)(f.a,{children:"Sign in"})})]})},E=n(118),N=n(119),C=n(120),_=n(138),k=n(70),R=n.n(k),L=Object(m.a)((function(e){return Object(_.a)({root:Object(j.a)({flexGrow:1,height:"10vh"},"@media (max-width:468px)",{padding:0}),menuButton:{marginRight:e.spacing(2)},title:Object(j.a)({flexGrow:1,textAlign:"center"},"@media (max-width:768px)",{display:"none"}),links:{margin:5,textDecoration:"none"}})})),U=function(){var e=L(),t=Object(b.c)((function(e){return e.auth}));return Object(r.jsx)(E.a,{position:"static",children:Object(r.jsxs)(N.a,{className:e.root,children:[Object(r.jsx)(w.b,{className:e.links,to:"/",children:Object(r.jsx)(R.a,{})}),Object(r.jsx)(w.b,{className:e.links,to:"/levels",children:Object(r.jsx)(f.a,{children:"Levels"})}),Object(r.jsx)(w.b,{className:e.links,to:"/leaderboard",children:Object(r.jsx)(f.a,{children:"Leaderboard"})}),Object(r.jsx)(C.a,{variant:"h3",className:e.title,children:"Where's Waldo"}),t.user?Object(r.jsx)(v,{}):Object(r.jsx)(S,{})]})})},I=n(121),T=n(122),G=n(123),D=n(76),P=n(124),A=n(125),B=n(126),M=n(127),F=n(128),W=Object(m.a)({root:Object(j.a)({display:"grid",gridTemplateColumns:"1fr 3fr"},"@media (max-width:468px)",{gridTemplateColumns:"1fr",gridTemplateRows:"1fr 4fr"}),text:{marginTop:"20px",color:"white"},tableContainer:{width:"70%",margin:"0px auto",backgroundColor:"#424242",color:"#424242",fontSize:"20px","@media (max-width:468px)":{width:"90%"}},table:{width:"100%",fontSize:"20px",backgroundColor:"#424242"},hideLastBorder:{"&:last-child td, &:last-child th":{border:0}},button:{width:"100%"}}),V=function(){var e=W(),t=Object(b.c)((function(e){return e.auth})),n=Object(a.useState)(),c=Object(d.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(),j=Object(d.a)(s,2),h=j[0],O=j[1],x=Object(a.useState)(!0),m=Object(d.a)(x,2),g=m[0],v=m[1];return Object(a.useEffect)((function(){if(t.user){var e=p.firestore();(function(){var t=Object(u.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection("leaderboards").get();case 2:n=t.sent,r=n.docs.map((function(e){return{id:e.id,data:e.data()}})),a=function(e,t){return e.time.localeCompare(t.time)},r.forEach((function(e){e.data.top_10.sort(a)})),i(r),v(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[t]),t.user?Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(I.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(C.a,{className:e.text,variant:"h3",align:"center",children:"Levels"}),g&&Object(r.jsx)("div",{style:{display:"flex"},children:Object(r.jsx)(T.a,{style:{margin:"0 auto"}})}),o&&o.map((function(t){return Object(r.jsx)(f.a,{color:"primary",variant:"outlined",className:e.button,onClick:function(){O(t)},children:t.id},t.id)}))]})}),Object(r.jsxs)(I.a,{children:[Object(r.jsx)(C.a,{className:e.text,variant:"h3",align:"center",children:"Top 10"}),h?Object(r.jsx)(G.a,{className:e.tableContainer,component:D.a,children:Object(r.jsxs)(P.a,{className:e.table,"aria-label":"simple table",children:[Object(r.jsx)(A.a,{children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)(M.a,{align:"center",children:"User"}),Object(r.jsx)(M.a,{align:"center",children:"Time"}),Object(r.jsx)(M.a,{align:"center",children:"Position"})]})}),Object(r.jsx)(F.a,{children:h.data.top_10.map((function(t,n){return Object(r.jsxs)(B.a,{className:e.hideLastBorder,children:[Object(r.jsx)(M.a,{align:"center",children:t.userName}),Object(r.jsx)(M.a,{align:"center",children:t.time}),Object(r.jsx)(M.a,{component:"th",align:"center",scope:"row",children:n+1})]},n)}))})]})}):Object(r.jsx)(C.a,{className:e.text,variant:"h6",align:"center",children:"Please select a level"})]})]}):Object(r.jsx)(C.a,{className:e.text,variant:"h2",align:"center",children:"Must be logged in to see this page."})},q=n(129),z=n(130),Y=n(131),J=n(132),Z=Object(m.a)({root:Object(j.a)({width:450},"@media (max-width:468px)",{maxWidth:300}),media:{height:300,width:"100%"}});function H(e){var t=e.level,n=Z();return Object(r.jsx)(q.a,{className:n.root,children:Object(r.jsxs)(z.a,{children:[Object(r.jsx)(Y.a,{className:n.media,image:t.image,title:t.name}),Object(r.jsx)(J.a,{children:Object(r.jsx)(C.a,{align:"center",gutterBottom:!0,variant:"h5",component:"h2",children:t.name})})]})})}var K,Q,X=n(71),$=function e(t,n,r){Object(X.a)(this,e),this.image=void 0,this.name=void 0,this.characters=void 0,this.name=r,this.image=n,this.characters=t},ee=n.p+"static/media/level_1.8d142447.png",te=n.p+"static/media/level_2.39e6469c.png",ne=n.p+"static/media/level_3.df92acac.png",re=n.p+"static/media/level_4.cbda96b1.png",ae={level_1:new $(["waldo","odlaw","wenda","whitebeard"],ee,"Level 1"),level_2:new $(["lisa","homer","marge","bart"],te,"Level 2"),level_3:new $(["waldo"],ne,"Level 3"),level_4:new $(["waldo","odlaw","wenda","whitebeard"],re,"Level 4")},ce=n(11),oe=n(133),ie=Object(m.a)((function(e){return Object(_.a)({container:{margin:"30px auto"},text:{marginTop:"20px",marginBottom:"20px",color:"white"},grid:{justifyContent:"center"}})})),se=function(){var e=ie(),t=Object(b.c)((function(e){return e.auth})),n=Object(b.b)(),a=Object(ce.g)();return t.user?Object(r.jsxs)(I.a,{className:e.container,children:[Object(r.jsx)(C.a,{className:e.text,variant:"h2",align:"center",children:"Select a level"}),Object(r.jsx)(oe.a,{className:e.grid,container:!0,spacing:2,children:Object.keys(ae).map((function(e){return Object(r.jsx)(oe.a,{onClick:function(){return n(function(e){return function(t){t({type:"LEVEL_SELECTED",payload:e})}}(ae[e])),void a.push("/")},item:!0,children:Object(r.jsx)(H,{level:ae[e]})},e)}))})]}):Object(r.jsx)(C.a,{className:e.text,variant:"h2",align:"center",children:"Must be logged in to see this page."})},le=n(135),ue=Object(m.a)((function(e){return Object(_.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px",fontFamily:"Roboto",color:"white",maxWidth:"100%","& > *":{margin:e.spacing(2),width:"360px",maxWidth:"100%"}},button:{alignItems:"center",width:"200px"},title:{width:"80%"}})})),de=function(e){var t=ue(),n=Object(a.useState)(""),c=Object(d.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(""),j=Object(d.a)(s,2),h=j[0],x=j[1],m=Object(a.useState)(""),g=Object(d.a)(m,2),v=g[0],w=g[1],y=Object(b.b)(),S=Object(b.c)((function(e){return e.auth}));Object(a.useEffect)((function(){y({type:"CLEANUP_LOGIN_ERROR"})}),[y]);var E=function(e){e.preventDefault(),y(function(e,t,n){return function(){var r=Object(u.a)(l.a.mark((function r(a){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O.collection("usernames").get();case 3:return r.sent.forEach((function(e){if(e.id===n)throw new Error("Username already taken.")})),r.next=7,p.auth().createUserWithEmailAndPassword(e,t);case 7:c=p.auth().currentUser,O.collection("usernames").doc(n).set({uid:c.uid}),O.collection("users").doc(c.uid).set({username:n,email:e}),a({type:"LOGIN_SUCCESS"}),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),a({type:"SIGNUP_ERROR",payload:r.t0});case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e){return r.apply(this,arguments)}}()}(o,h,v))};return S.user?Object(r.jsx)(ce.a,{to:"/"}):Object(r.jsxs)("form",{onSubmit:function(e){return E(e)},className:t.root,autoComplete:"off",children:[Object(r.jsx)(C.a,{className:t.title,variant:"h2",align:"center",children:"Create your account"}),Object(r.jsx)(le.a,{style:{color:"white"},id:"username",placeholder:"Username",onChange:function(e){return w(e.target.value)},required:!0}),Object(r.jsx)(le.a,{style:{color:"white"},id:"email",placeholder:"Email",type:"email",onChange:function(e){return i(e.target.value)},required:!0}),Object(r.jsx)(le.a,{style:{color:"white"},id:"password",placeholder:"Password",type:"password",onChange:function(e){return x(e.target.value)},required:!0}),Object(r.jsx)(f.a,{className:t.button,type:"submit",variant:"contained",color:"primary",children:"Submit"}),S.authError&&Object(r.jsx)(C.a,{color:"error",variant:"h5",align:"center",children:S.authError.message})]})},je=Object(m.a)((function(e){return Object(_.a)({root:{display:"flex",flexDirection:"column",fontFamily:"Roboto",color:"white","& > * + *":{marginLeft:e.spacing(2)}},text:{marginTop:"20px"}})})),be=function(){var e=je();return Object(r.jsxs)(I.a,{className:e.root,children:[Object(r.jsx)(de,{}),Object(r.jsxs)(C.a,{className:e.text,align:"center",variant:"h5",children:["Already have an account? ",Object(r.jsx)(w.b,{to:"/signin",children:"Sign In"})]})]})},he=n(74),pe=n(28),Oe=function(){var e=Object(u.a)(l.a.mark((function e(t,n,r){var a,c,o,i,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.firestore(),c=a.collection("levels").doc(n.name),o=r[0],i=r[1],s=!1,e.prev=5,e.next=8,c.get();case 8:if(!(u=e.sent).exists){e.next=14;break}d=u.data().characters[t],s=o>=d.coords_x[0]&&o<=d.coords_x[1]&&i>=d.coords_y[0]&&i<=d.coords_y[1],e.next=15;break;case 14:throw new Error("Document not found");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.log("Something went wrong",e.t0);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,a,c,o,i,s,u,d,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.firestore(),a=p.auth().currentUser.uid,c=r.collection("users").doc(a),e.next=5,c.get();case 5:if(o=e.sent,e.prev=6,!o.exists){e.next=19;break}return i=o.data().username,s=r.collection("leaderboards").doc(n.name),e.next=12,s.get();case 12:u=e.sent,d=u.data().top_10,j=function(e,t){return e.time.localeCompare(t.time)},b=d.sort(j),fe(b,t)&&(10===b.length&&s.update({top_10:p.firestore.FieldValue.arrayRemove(b[b.length-1])}),s.update({top_10:p.firestore.FieldValue.arrayUnion({userName:i,time:t,timeStamp:new Date})})),e.next=20;break;case 19:throw new Error("No such document");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),console.log("Error getting document:",e.t0);case 25:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(e,t){return e.length<10||1===e[e.length-1].time.localeCompare(t)},me=function(){var e=Q-K,t=Math.abs(e/1e3),n=Math.floor(t%60),r=Math.floor(t/60)%24;return"".concat(ge(r),":").concat(ge(n))},ge=function(e){return e<10?("0"+e).toString():e},ve=n(134),we=n(32),ye=n(50);function Se(){var e=Object(pe.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: ",";\n  margin-top: ",";\n"]);return Se=function(){return e},e}function Ee(){var e=Object(pe.a)(["\n  text-decoration: none;\n  margin-right: 20px;\n"]);return Ee=function(){return e},e}function Ne(){var e=Object(pe.a)(["\n  margin-top: 50px;\n"]);return Ne=function(){return e},e}function Ce(){var e=Object(pe.a)(["\n  display: flex;\n  justify-content: center;\n  text-decoration: none;\n  margin-top: 20px;\n"]);return Ce=function(){return e},e}function _e(){var e=Object(pe.a)(["\n  position: absolute;\n  left: ",";\n  top: ",";\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  border: 5px solid black;\n"]);return _e=function(){return e},e}function ke(){var e=Object(pe.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  pointer-events: none;\n  left: ",";\n  top: ",";\n"]);return ke=function(){return e},e}function Re(){var e=Object(pe.a)(["\n  position: absolute;\n  border: 10px solid #f3f3f3;\n  border-top: 10px solid #3498db;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: "," 2s linear infinite;\n  left: ",";\n  top: ",";\n"]);return Re=function(){return e},e}function Le(){var e=Object(pe.a)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]);return Le=function(){return e},e}function Ue(){var e=Object(pe.a)(["\n  width: 50px;\n  height: 50px;\n  border: 2px dashed black;\n  border-radius: 50%;\n  position: absolute;\n  pointer-events: none;\n"]);return Ue=function(){return e},e}function Ie(){var e=Object(pe.a)(["\n  width: 1280px;\n  position: relative;\n  overflow-y: hidden;\n  overflow-x: auto;\n  max-width: 95%;\n  padding: 0;\n  margin: 22px auto;\n"]);return Ie=function(){return e},e}var Te=Object(m.a)({title:{color:"white",margin:"10px"},image:{width:"1280px",height:"720px"},listButton:{pointerEvents:"auto",width:"150px"},box:{display:"flex",justifyContent:"center"},textItems:{margin:"0px 7px",color:"white"}}),Ge=we.a.div(Ie()),De=we.a.div(Ue()),Pe=Object(ye.b)(Le()),Ae=we.a.div(Re(),Pe,(function(e){return(e.coords[0]-25).toString()+"px"}),(function(e){return(e.coords[1]-25).toString()+"px"})),Be=we.a.div(ke(),(function(e){return(e.coords[0]-25).toString()+"px"}),(function(e){return(e.coords[1]-25).toString()+"px"})),Me=we.a.div(_e(),(function(e){return(e.coords[0]-25).toString()+"px"}),(function(e){return(e.coords[1]-25).toString()+"px"})),Fe=we.a.div(Ce()),We=we.a.div(Ne()),Ve=Object(we.a)(w.b)(Ee()),qe=we.a.div(Se(),(function(e){return e.coords[0]<640?"60px":"-160px"}),(function(e){return e.coords[1]>620?"-100px":e.coords[1]<20?"20px":"0px"})),ze=function(e){var t=e.level,n=Object(a.useState)([]),c=Object(d.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(!1),j=Object(d.a)(s,2),b=j[0],h=j[1],O=Object(a.useState)(!1),x=Object(d.a)(O,2),m=x[0],g=x[1],v=Object(a.useState)(!1),w=Object(d.a)(v,2),y=w[0],S=w[1],E=Object(a.useState)([]),N=Object(d.a)(E,2),_=N[0],k=N[1],R=Object(a.useState)(t.characters),L=Object(d.a)(R,2),U=L[0],I=L[1],T=Te(e);Object(a.useEffect)((function(){y||(console.log("timer started"),K=p.firestore.Timestamp.now().toMillis())}),[y]),Object(a.useEffect)((function(){0===U.length&&(console.log("timer ended"),Q=p.firestore.Timestamp.now().toMillis(),xe(me(),t)),S(0===U.length)}),[U,t]);var G=function(){var e=Object(u.a)(l.a.mark((function e(n,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),h(!1),e.next=4,Oe(n,t,r);case 4:a=e.sent,g(!1),a&&(c=U.filter((function(e){return e!==n})),I(c),k([].concat(Object(he.a)(_),[{character:n,coordinates:r}])));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return y?Object(r.jsxs)(We,{children:[Object(r.jsx)(C.a,{className:T.title,gutterBottom:!0,variant:"h1",align:"center",children:"You beat ".concat(t.name)}),Object(r.jsxs)(C.a,{gutterBottom:!0,color:"primary",variant:"h3",align:"center",children:["Your time was ",me()]}),Object(r.jsxs)(Fe,{children:[Object(r.jsx)(Ve,{to:"/levels",children:Object(r.jsx)(f.a,{variant:"contained",children:"Select a new Level"})}),Object(r.jsx)(f.a,{onClick:function(){return k([]),void I(t.characters)},variant:"contained",children:"Play again?"})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.a,{className:T.title,variant:"h2",align:"center",children:t.name}),Object(r.jsx)(C.a,{className:T.title,variant:"h5",align:"center",children:"Find the following characters in the shortest time possible:"}),Object(r.jsx)(ve.a,{className:T.box,children:U.map((function(e){return Object(r.jsx)(C.a,{className:T.textItems,variant:"h6",align:"center",children:e[0].toUpperCase()+e.slice(1)},e)}))}),Object(r.jsxs)(Ge,{children:[Object(r.jsx)("img",{className:T.image,src:t.image,onClick:function(e){return function(e){var t=[e.nativeEvent.offsetX,e.nativeEvent.offsetY];console.log(t),i(t),h(!0)}(e)},alt:"".concat(t.name)}),_.map((function(e){return Object(r.jsx)(Me,{coords:e.coordinates},e.character)})),b&&Object(r.jsxs)(Be,{coords:o,children:[Object(r.jsx)(De,{}),Object(r.jsx)(qe,{coords:o,children:U.map((function(e){return Object(r.jsx)(f.a,{className:T.listButton,variant:"contained",onClick:function(){return G(e,o)},children:e},e)}))})]}),m&&Object(r.jsx)(Ae,{coords:o})]})]})},Ye=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(b.c)((function(e){return e.level}));return e.user?t.level?Object(r.jsx)(ze,{level:t.level}):Object(r.jsx)(se,{}):Object(r.jsx)(be,{})},Je=Object(m.a)((function(e){return Object(_.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px",fontFamily:"Roboto",color:"white","& > *":{margin:e.spacing(2),width:"360px"}},button:{width:"200px"}})})),Ze=function(){var e=Je(),t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(d.a)(i,2),j=s[0],h=s[1],O=Object(b.b)(),x=Object(b.c)((function(e){return e.auth}));Object(a.useEffect)((function(){O({type:"CLEANUP_LOGIN_ERROR"})}),[O]);var m=function(e){e.preventDefault(),O(function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.auth().signInWithEmailAndPassword(e,t);case 3:r({type:"LOGIN_SUCCESS"}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r({type:"LOGIN_ERROR",payload:n.t0});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(c,j))};return x.user?Object(r.jsx)(ce.a,{to:"/"}):Object(r.jsxs)("form",{onSubmit:function(e){return m(e)},className:e.root,autoComplete:"off",children:[Object(r.jsx)(C.a,{variant:"h2",align:"center",children:"Sign In"}),Object(r.jsx)(le.a,{style:{color:"white"},id:"email",placeholder:"Email",type:"email",onChange:function(e){return o(e.target.value)},required:!0}),Object(r.jsx)(le.a,{style:{color:"white"},id:"password",placeholder:"Password",type:"password",onChange:function(e){return h(e.target.value)},required:!0}),Object(r.jsx)(f.a,{className:e.button,type:"submit",variant:"contained",color:"primary",children:"Submit"}),x.authError&&Object(r.jsx)(C.a,{color:"error",variant:"h5",align:"center",children:x.authError.message})]})};n(102);function He(){return Object(r.jsx)("div",{id:"preloader",children:Object(r.jsx)("div",{id:"loader"})})}var Ke=function(){var e=Object(b.b)(),t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){var t=!0;return p.auth().onAuthStateChanged(function(){var n=Object(u.a)(l.a.mark((function n(r){var a,c,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=12;break}if(!r){n.next=10;break}return a=p.firestore(),n.next=5,a.collection("users").doc(r.uid).get();case 5:c=n.sent,i=c.data(),e({type:"USER_UPDATED",payload:i}),n.next=11;break;case 10:e({type:"USER_UPDATED",payload:null});case 11:o(!1);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),function(){t=!1}})),c?Object(r.jsx)(He,{}):Object(r.jsxs)(w.a,{basename:"/",children:[Object(r.jsx)(U,{}),Object(r.jsxs)(ce.d,{children:[Object(r.jsx)(ce.b,{path:"/",exact:!0,component:Ye}),Object(r.jsx)(ce.b,{path:"/levels",component:se}),Object(r.jsx)(ce.b,{path:"/leaderboard",component:V}),Object(r.jsx)(ce.b,{path:"/signin",component:Ze}),Object(r.jsx)(ce.b,{path:"/signup",component:de})]})]})},Qe=n(41),Xe=n(13),$e={user:null,authError:null},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("login success"),Object(Xe.a)(Object(Xe.a)({},e),{},{authError:null});case"LOGIN_ERROR":return console.log("login error"),console.error(t.payload),Object(Xe.a)(Object(Xe.a)({},e),{},{authError:t.payload});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(Xe.a)(Object(Xe.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),console.error(t.payload.message),Object(Xe.a)(Object(Xe.a)({},e),{},{authError:t.payload});case"LOGOUT_SUCCESS":return console.log("logout success"),Object(Xe.a)(Object(Xe.a)({},e),{},{user:null});case"LOGOUT_ERROR":return console.log("logout error"),console.error(t.payload),Object(Xe.a)({},e);case"USER_UPDATED":return console.log("user updated"),Object(Xe.a)(Object(Xe.a)({},e),{},{user:t.payload});case"CLEANUP_LOGIN_ERROR":return console.log("clean up login error"),Object(Xe.a)(Object(Xe.a)({},e),{},{authError:null});default:return Object(Xe.a)({},e)}},tt={level:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LEVEL_SELECTED":return console.log("level selected"),Object(Xe.a)(Object(Xe.a)({},e),{},{level:t.payload});default:return Object(Xe.a)({},e)}},rt=Object(Qe.c)({auth:et,level:nt}),at=n(73),ct=Object(Qe.d)(rt,Object(Qe.a)(at.a));i.a.render(Object(r.jsx)(b.a,{store:ct,children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Ke,{})})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.e6eccaa0.chunk.js.map